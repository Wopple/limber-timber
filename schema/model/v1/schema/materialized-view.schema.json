{
  "$schema": "https://json-schema.org/draft/2020-12/schema",
  "$id": "https://raw.githubusercontent.com/Wopple/limber-timber/refs/tags/0.3.3/schema/model/v1/schema/materialized-view.schema.json",
  "title": "Materialized View V1",
  "allOf": [
    { "$ref": "https://raw.githubusercontent.com/Wopple/limber-timber/refs/tags/0.3.3/schema/model/v1/schema/view-like.schema.json" },
    {
      "type": "object",
      "properties": {
        "partitioning": { "$ref": "https://raw.githubusercontent.com/Wopple/limber-timber/refs/tags/0.3.3/schema/model/v1/schema/partitioning.schema.json" },
        "clustering": {
          "type": "array",
          "items": { "$ref": "https://raw.githubusercontent.com/Wopple/limber-timber/refs/tags/0.3.3/schema/model/v1/schema/column-name.schema.json" },
          "minItems": 1
        },
        "allow_non_incremental_definition": {
          "type": "boolean"
        },
        "max_staleness": { "$ref": "https://raw.githubusercontent.com/Wopple/limber-timber/refs/tags/0.3.3/schema/model/v1/schema/interval-literal.schema.json" },
        "enable_refresh": {
          "type": "boolean"
        },
        "refresh_interval": { "$ref": "https://raw.githubusercontent.com/Wopple/limber-timber/refs/tags/0.3.3/schema/external/iso-8601-duration.schema.json" }
      },
      "additionalProperties": false
    }
  ]
}
